{"mappings":"AAAA,MAAMA,EAAO,CACXC,OAAQC,SAASC,cAAc,UAsCjC,SAASC,EAAUC,EAAUC,GAC3B,OAAOC,QAAQC,IAAI,uBAAqBH,QAAiBC,OAE3D,SAASG,EAASJ,EAAUC,GAC1B,OAAOC,QAAQC,IAAI,sBAAoBH,QAAeC,OA5BxDN,EAAKC,OAAOS,iBAAiB,UAAUC,IACrCA,EAAEC,iBACF,MACEC,UAAYP,MAAOQ,EAAMC,KAAEA,EAAIC,OAAEA,IAC/BhB,EAAKC,OAET,IAAIK,EAAQW,OAAOH,EAAOI,OAC1B,MAAMC,EAAiBF,OAAOF,EAAKG,OAC7BE,EAAcH,OAAOD,EAAOE,OAElC,IAAK,IAAIb,EAAW,EAAGA,GAAYe,EAAaf,GAAY,EAAG,CAC7D,MAAMgB,EAAcf,GAASa,EAC7BG,YAAW,KAtBN,IAAIC,SAAQ,CAACC,EAASC,KACLC,KAAKC,SAAW,GAEpCH,IAEAC,OAmBGG,MAAK,KACJxB,EAAUC,EAAUgB,MAErBQ,OAAM,KACLpB,EAASJ,EAAUgB,QAEtBf","sources":["src/js/03-promises.js"],"sourcesContent":["const refs = {\n  formEl: document.querySelector('.form'),\n};\n\nconst createPromise = (position, _delay) => {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    if (shouldResolve) {\n      resolve();\n    } else {\n      reject();\n    }\n  });\n};\n\nrefs.formEl.addEventListener('submit', e => {\n  e.preventDefault();\n  const {\n    elements: { delay: _delay, step, amount },\n  } = refs.formEl;\n\n  let delay = Number(_delay.value);\n  const inputStepValue = Number(step.value);\n  const amountValue = Number(amount.value);\n\n  for (let position = 1; position <= amountValue; position += 1) {\n    const totalDelay = (delay += inputStepValue);\n    setTimeout(() => {\n      createPromise(position, delay)\n        .then(() => {\n          onSuccess(position, totalDelay);\n        })\n        .catch(() => {\n          onErrore(position, totalDelay);\n        });\n    }, delay)\n  }\n});\n\nfunction onSuccess(position, delay) {\n  return console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n}\nfunction onErrore(position, delay) {\n  return console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n}\n"],"names":["$47d4ff9957288465$var$refs","formEl","document","querySelector","$47d4ff9957288465$var$onSuccess","position","delay","console","log","$47d4ff9957288465$var$onErrore","addEventListener","e","preventDefault","elements","_delay","step","amount","Number","value","inputStepValue","amountValue","totalDelay","setTimeout","Promise","resolve","reject","Math","random","then","catch"],"version":3,"file":"03-promises.548c3ea1.js.map"}